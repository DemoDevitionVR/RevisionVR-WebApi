<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Real-Time Chat with SignalR</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/microsoft-signalr/5.0.13/signalr.min.js"></script>
</head>
<body>
    <div>
        <input type="text" id="mainx" placeholder="Enter your main x" />
        <input type="text" id="mainz" placeholder="Enter your main y" />
        <input type="text" id="mainz" placeholder="Enter your main z" />
        <button id="sendButton">Send</button>
    </div>
    <div id="chatBox"></div>
    <script>
        var connection = new signalR.HubConnectionBuilder().withUrl("/userPositionHub").build();

        connection.on("SendPosition", function (mainx, mainy, mainz) {
            var encodedX = $("<div />").text(mainx).html();
            var encodedY = $("<div />").text(mainy).html();
            var encodedZ = $("<div />").text(mainz).html();
            $("#chatBox").append("<p><strong>" + encodedX + "</strong>: " + encodedY + ", " + encodedZ + "</p>");
        });

        $("#sendButton").click(function () {
            var mainx = $("#mainx").val();
            var mainy = $("#mainy").val();
            var mainz = $("#mainz").val();
            connection.invoke("SendPosition", mainx, mainy, mainz);
            $("#mainx").val("").focus();
            $("#mainy").val("").focus();
            $("#mainz").val("").focus();
        });

        connection.start().then(function () {
            console.log("Connected!");
        }).catch(function (err) {
            console.error(err.toString());
        });
    </script>
</body>
</html>